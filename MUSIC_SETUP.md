# 音樂系統設置說明

## 已完成的功能

✅ 音樂開關按鈕（位於語言選擇器下方）
✅ 音量滑桿控制（0-100%）
✅ 音量百分比顯示
✅ 設定自動保存到 localStorage
✅ 多語言支援（繁中/英文/法文）
✅ 觸控友善設計
✅ Web Audio API 基礎架構

## 如何添加你的 ABC 記譜

找到 `main.js` 中的 `MusicSystem` 物件，將你的 ABC 記譜替換到 `abcNotation` 屬性：

```javascript
const MusicSystem = {
    // ... 其他設定 ...
    
    abcNotation: `
X:1
T:你的音樂標題
M:4/4
L:1/8
Q:1/4=120
K:C
你的32音節記譜內容放在這裡
`,
    
    // ... 其他方法 ...
};
```

## ABC 記譜格式說明

- `X:1` - 曲目編號
- `T:標題` - 音樂標題
- `M:4/4` - 拍號（4/4拍）
- `L:1/8` - 預設音符長度（八分音符）
- `Q:1/4=120` - 速度（每分鐘120拍）
- `K:C` - 調性（C大調）

## 音符對照

- C D E F G A B - 基本音階
- c d e f g a b - 高八度音階
- C, D, E, F, G, A, B, - 低八度音階
- ^C - 升C（C#）
- _D - 降D（Db）
- C2 - 延長為兩倍長度
- C/2 - 縮短為一半長度
- z - 休止符
- | - 小節線
- |: :| - 反覆記號

## 實作進度

🟢 完成：
- 音樂開關 UI
- 音量控制
- 設定保存
- 多語言

🟡 待完成（等待 ABC 記譜）：
- 解析 ABC 記譜
- 播放音符序列
- 循環播放
- 不同場景的音樂切換（可選）

## 提供記譜時請告知

1. **記譜內容** - 你的完整 ABC 記譜
2. **音樂用途** - 選擇一項或多項：
   - [ ] 背景音樂（全程循環）
   - [ ] 戰鬥音樂
   - [ ] 金字塔音樂
   - [ ] 勝利音樂
   - [ ] 失敗音樂
   - [ ] 特殊事件音樂

3. **播放設定**（可選）：
   - 速度調整需求
   - 是否需要循環
   - 音色偏好（正弦波/方波/三角波等）

## 測試方法

1. 打開遊戲頁面
2. 點擊音樂開關按鈕（應顯示 🔊 音樂：開啟）
3. 調整音量滑桿
4. 重新載入頁面確認設定被保存

## 當前狀態

系統已準備好接收你的 ABC 記譜。提供記譜後，我會：
1. 解析 ABC 格式
2. 轉換為可播放的音符序列
3. 實作播放邏輯
4. 添加循環功能
5. （可選）根據不同場景切換音樂
