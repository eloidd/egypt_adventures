<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Egypt Adventures</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <div id="header-area">
            <h1>Egypt Adventures</h1>
            <div id="version-display" style="text-align: center; margin: 5px 0; font-size: 14px; color: #8b6914; font-weight: bold;">Version 1.1.18</div>
            <!-- 手機調試面板切換按鈕 -->
            <div style="text-align: center; margin: 8px 0;">
                <button id="toggle-debug" onclick="var panel = document.getElementById('mobile-debug'); panel.style.display = panel.style.display === 'none' ? 'block' : 'none';" style="background: #333; color: #0f0; border: 2px solid #0f0; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer; font-family: monospace;">🐛 調試面板</button>
            </div>
            <!-- 手機調試面板 -->
            <div id="mobile-debug" style="position: fixed; bottom: 10px; left: 10px; right: 10px; background: rgba(0,0,0,0.95); color: #0f0; padding: 10px; border-radius: 8px; font-size: 12px; font-family: monospace; max-height: 150px; overflow-y: auto; z-index: 9999; display: block; pointer-events: none; border: 2px solid #0f0; box-shadow: 0 4px 12px rgba(0,255,0,0.3);">
                <div style="display: flex; justify-content: space-between; margin-bottom: 6px; border-bottom: 1px solid #0f0; padding-bottom: 4px;">
                    <strong>📱 調試訊息（點擊按鈕查看）</strong>
                    <button onclick="document.getElementById('mobile-debug').style.display='none'" style="background: #f00; color: white; border: none; padding: 3px 10px; border-radius: 4px; font-size: 11px; cursor: pointer;">✕</button>
                </div>
                <div id="debug-log" style="color: #0f0; line-height: 1.4;">等待操作...</div>
            </div>
            <div id="language-selector" style="text-align: center; margin: 10px 0; position: relative; z-index: 3000;">
                <select id="language-select" style="padding: 8px 12px; font-size: 16px; border: 2px solid #8b6914; background: #f4e4c1; cursor: pointer; border-radius: 5px; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.2); position: relative; z-index: 3001;">
                    <option value="zh-TW">🇹🇼 繁體中文</option>
                    <option value="en">🇬🇧 English</option>
                    <option value="fr">🇫🇷 Français</option>
                </select>
            </div>
            <div id="music-controls" style="text-align: center; margin: 10px 0; position: relative; z-index: 3000;">
                <button id="music-toggle" type="button" style="padding: 8px 16px; font-size: 14px; border: 2px solid #8b6914; background: #f4e4c1; cursor: pointer; border-radius: 5px; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.2); position: relative; z-index: 3001;">
                    🔇 <span data-i18n="musicOff">音樂：關閉</span>
                </button>
                <input type="range" id="volume-slider" min="0" max="100" value="50" style="width: 100px; vertical-align: middle; margin-left: 10px; position: relative; z-index: 3001; cursor: pointer;">
                <span id="volume-display" style="font-size: 12px; margin-left: 5px;">50%</span>
            </div>
            <aside id="sidebar">
                <h2 data-i18n="symbolGuide">符號說明</h2>
                <ul>
                    <li><strong>⚔️</strong> - <span data-i18n="attack">攻擊</span></li>
                    <li><strong>⚡️</strong> - <span data-i18n="skill">技能</span></li>
                    <li><strong>🛡️</strong> - <span data-i18n="defense">防禦</span></li>
                    <li><strong>💀</strong> - <span data-i18n="enemyAttack">敵人攻擊</span></li>
                    <li><strong>🧪</strong> - <span data-i18n="heal">回復</span></li>
                    <li><strong>⭐</strong> - <span data-i18n="luckyBonus">幸運加成</span></li>
                </ul>
            </aside>
        </div>
           <div id="main-area">
            <!-- 歡迎欄位（固定顯示） -->
            <div id="welcome-panel" data-i18n="welcomeMessage">迷途的旅人，請選擇前進的方向來決定你在沙漠中的命運吧！</div>
            <!-- 事件與戰鬥說明 -->
            <div id="game-output"></div>
                <div id="move-controls">
                    <div id="move-buttons">
                        <button id="move-front" data-i18n="front" type="button">前</button>
                        <button id="move-left" data-i18n="left" type="button">左</button>
                        <button id="move-right" data-i18n="right" type="button">右</button>
                    </div>
                    <div id="map-info"><span data-i18n-prefix="remainingSteps">剩餘步數</span>: <span id="map-steps">30</span></div>
                </div>
                 <!-- 戰鬥區域：左側角色資訊 + 中間輪盤 + 右側敵人資訊 -->
                 <div id="battle-area">
                     <div id="player-status" class="status-box-side"></div>
                     <div id="slot-center">
                         <div id="slot-machine">
                             <div class="reel" id="reel-0"></div>
                             <div class="reel" id="reel-1"></div>
                             <div class="reel" id="reel-2"></div>
                         </div>
                         <div id="slot-controls">
                             <button id="spin-btn" data-i18n="spin" type="button">旋轉</button>
                             <button id="stop-btn" data-i18n="stop" type="button" disabled>停止</button>
                             <button id="auto-spin-btn" data-i18n="autoSpin" type="button">自動旋轉</button>
                             <button id="flee-btn" data-i18n="flee" type="button">逃離</button>
                             <button id="save-btn" data-i18n="save" type="button" style="background:#2ecc71;">💾 儲存</button>
                             <button id="load-btn" data-i18n="load" type="button" style="background:#3498db;">📂 讀取</button>
                         </div>
                     </div>
                     <div id="enemy-status" class="status-box-side"></div>
                 </div>
                <div id="equipment-panel" style="display:none; border:1px solid #666; padding:8px; background:#fff; position:fixed; right:20px; top:100px; width:240px; z-index:500;">
                    <h3 data-i18n="equipmentAndInventory">裝備與背包</h3>
                    <div id="equip-content" data-i18n="empty">空</div>
                    <div style="margin-top:8px;"><button id="close-equip" data-i18n="close" type="button">關閉</button></div>
                </div>
                <div id="blackmarket-panel" style="display:none; border:1px solid #a33; padding:8px; background:#fff8f8; position:fixed; left:20px; top:100px; width:320px; z-index:500;">
                    <h3 data-i18n="blackMarket">黑市商人</h3>
                    <div id="blackmarket-desc" data-i18n="blackMarketDesc">黑市中可以以賭博方式購買裝備（普通～史詩），最多可購買兩件。請小心行事！</div>
                    <div id="blackmarket-items" style="margin-top:8px;"></div>
                    <div style="margin-top:8px;"><button id="close-blackmarket" data-i18n="close" type="button">關閉</button></div>
                </div>
        </div>
        <input type="text" id="game-input" data-i18n-placeholder="inputPlaceholder" placeholder="請輸入指令...">
        <button id="submit-btn" data-i18n="submit" type="button">送出</button>
    </div>
    <script src="i18n.js"></script>
    <script src="main.js?v=20251125-9"></script>
</body>
</html>